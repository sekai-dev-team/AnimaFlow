/*! coi-serviceworker v0.1.7 - Guido Zuidhof, licensed under MIT */
let cois = { doReload: !0, worker: "coi-serviceworker.js" }; "undefined" != typeof window && window.location.hostname && window.location.hostname.match(/localhost|[0-9]+\.[0-9]+\.[0-9]+\.[0-9]+|::1|0:0:0:0:0:0:0:1/) && (cois.doReload = !1);
if ("undefined" != typeof window && "serviceWorker" in navigator) { navigator.serviceWorker.register(window.document.currentScript.src).then(function (e) { !function (e) { if (e.active && !navigator.serviceWorker.controller) { window.location.reload() } }(e) }, function (e) { console.error("coi-serviceworker registration failed: ", e) }) } else if ("undefined" != typeof window) { console.warn("coi-serviceworker: Service workers not supported.") } else { self.addEventListener("install", function () { self.skipWaiting() }), self.addEventListener("activate", function (e) { e.waitUntil(self.clients.claim()) }), self.addEventListener("fetch", function (e) { if ("only-if-cached" === e.request.cache && "same-origin" !== e.request.mode) return; e.respondWith(fetch(e.request).then(function (e) { if (0 === e.status) return e; const r = new Headers(e.headers); r.set("Cross-Origin-Embedder-Policy", "require-corp"), r.set("Cross-Origin-Opener-Policy", "same-origin"); return new Response(e.body, { status: e.status, statusText: e.statusText, headers: r }) }).catch(function (e) { return console.error(e), new Response(null, { status: 500, statusText: e.message }) })) }) }
